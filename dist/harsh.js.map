{"version":3,"sources":["node_modules/browser-pack/_prelude.js","index.js"],"names":[],"mappings":"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","file":"harsh.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict'\n\nconst harsh = {\n  _base: 36,\n  _id: Math.floor(Math.random() * 100),\n  _n: 2,\n  /**\n   * Takes a number and a radix base, outputs a salted hash\n   * @param  {Array} ids   list of ids to hash\n   * @param {Number} n number of salts to add to the hash\n   * @param  {Number} base radix base, 16 through 36 allowed\n   * @return {Object}      a hash object containing the hashes as well as info needed to reverse them\n   */\n  hash (ids, n, base) {\n    ids = ids || [this._id]\n    n = n || this._n\n    base = base || this._base\n    try {\n      if (!ids.splice) {\n        throw new TypeError('The ids argument should be an array of numbers')\n      }\n      if (typeof n !== 'number' || n < 0) {\n        throw new TypeError('The number of salts should be a positive integer')\n      }\n      if (typeof base !== 'number' || base < 16 || base > 36) {\n        throw new TypeError('The base should be a number between 16 and 36')\n      }\n\n      // Create the salts. This will be the same for all hashes\n      let salts = []\n      for (let i = 0; i < n; i++) {\n        salts.push(Math.floor(Math.random() * Math.pow(10, 6)).toString(base))\n      }\n\n      // Combine the salts and the actual\n      let hashes = ids.map((id) => {\n        if (typeof id !== 'number') {\n          throw new TypeError('The ids you\\'re hashing should only be numbers')\n        }\n        const hash = id.toString(base)\n        let pieces = [...salts, hash]\n        let hashString = ''\n        do {\n          let index = Math.floor(Math.random() * pieces.length)\n          hashString += pieces[index]\n          pieces.splice(index, 1)\n        } while (pieces.length)\n        return hashString\n      })\n\n      return {\n        ids: ids,\n        hashes: hashes,\n        salts: salts,\n        base: base\n      }\n    } catch (e) {\n      console.error(e.name, e.message)\n    }\n  },\n  /**\n   * Takes a string and necessary components to reverse back to the original number\n   * @param  {Array} hashes   list of hashes to reverse\n   * @param  {Array} salts  list of salts applied to the list (provided from `hash`)\n   * @param  {base} base     radix base, 16 through 36 allowed\n   * @return {Array}          list of reversed hashes\n   */\n  revarse (hashes, salts, base) {\n    base = base || this._base\n    try {\n      if (!hashes.splice) {\n        throw new TypeError('The hashes argument should be an array of hashes provided by the hash method')\n      }\n      if (!hashes.splice) {\n        throw new TypeError('The salts argument should be an array of salt strings provided by the hash method')\n      }\n      if (typeof base !== 'number' || base < 16 || base > 36) {\n        throw new TypeError('The base should be a number between 16 and 36')\n      }\n      const re = new RegExp(salts.join('\\|'), 'g')\n\n      let reversed = hashes.map((hash) => {\n        if (typeof hash !== 'string') {\n          throw new TypeError('The hashes you\\'re reversing should only be strings')\n        }\n        let stripped = hash.replace(re, '')\n        return parseInt(stripped, base)\n      })\n      return reversed\n    } catch (e) {\n      console.error(e.name, e.message)\n    }\n  }\n}\n\nmodule.exports = harsh\n"]}